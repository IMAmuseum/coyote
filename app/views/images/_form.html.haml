= simple_form_for @image, validate: true, html: {multipart: true, class: 'form-horizontal'}, wrapper: :horizontal_form, wrapper_mappings: { check_boxes: :horizontal_radio_and_checkboxes, radio_buttons: :horizontal_radio_and_checkboxes, boolean: :horizontal_boolean, file: :horizontal_file_input} do |f|
  = f.error_notification
  .form-inputs
    - if admin?
      = f.input :canonical_id, label: "Canonical ID"
    - else
      = f.input :canonical_id, as: :hidden
    = f.association :website, prompt: "Pick a website"
    = f.association :group, prompt: "Pick a group"
    = f.input :path, as: :string, label: "Path", hint: "relative to the website domain"
    -#= f.input :tag_list, as: :select, label: "Tags", label_method: :name, value_method: :id, input_html: {multiple: true, class: 'autocomplete'}, collection: ActsAsTaggableOn::Tag.most_used(30), selected: @image.tags
    -#= f.association :tags, label_method: :name, value_method: :id, input_html: {multiple: true, class: 'autocomplete'}, collection: ActsAsTaggableOn::Tag.most_used(30)
    -#= f.input :tag_list do 
      -#= f.select :tag_list, options_for_select(ActsAsTaggableOn::Tag.all, @image.tag_list), {}, {class: 'select2', multiple: true, :style => "width:100%;"}
    = f.input :tag_list, as: :tags, label: "Tags", input_html: {class: 'autocomplete'}, collection: ActsAsTaggableOn::Tag.most_used(30), hint: "Use a comma to separate new tags"
    -#= f.input :tag_list do
      = f.select ActsAsTaggableOn::Tag.all.map{|t| t.name, t.id,  @image.tags.include?(t) ? "selected" : ""}


  .form-actions
    .form-actions-inner
      = f.button :submit, class: 'btn btn-success'
      - if action_name == 'edit'
        %br
        %br
        = link_to @image, class: 'btn btn-info' do
          %i.fa.fa-fw.fa-eye{"aria-hidden" => "true"}
          View this image
      %br
      %br
      = link_to images_path, class: 'btn btn-info' do
        %i.fa.fa-fw.fa-list{"aria-hidden" => "true"}
        View all Images
